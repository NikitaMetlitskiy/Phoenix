<template>
  <div class="accommodations-card">
    <svg class="accommodations-card__bottom-line" width="1282" height="2" viewBox="0 0 1282 2" fill="none" xmlns="http://www.w3.org/2000/svg">
      <clipPath id="bottomLine">
        <path fill-rule="evenodd" clip-rule="evenodd" d="M2.50586 1.5L0 1.5L0 0.5L2.50586 0.5V1.5ZM12.5293 1.5L7.51758 1.5V0.5L12.5293 0.5V1.5ZM22.5527 1.5L17.541 1.5V0.5L22.5527 0.5V1.5ZM32.5762 1.5L27.5645 1.5V0.5L32.5762 0.5V1.5ZM42.5996 1.5L37.5879 1.5V0.5L42.5996 0.5V1.5ZM52.623 1.5L47.6113 1.5V0.5L52.623 0.5V1.5ZM62.6465 1.5L57.6348 1.5V0.5L62.6465 0.5V1.5ZM72.6699 1.5L67.6582 1.5V0.5L72.6699 0.5V1.5ZM82.6934 1.5L77.6816 1.5V0.5L82.6934 0.5V1.5ZM92.7168 1.5L87.7051 1.5V0.5L92.7168 0.5V1.5ZM102.74 1.5L97.7285 1.5V0.5L102.74 0.5V1.5ZM112.764 1.5L107.752 1.5V0.5L112.764 0.5V1.5ZM122.787 1.5L117.775 1.5V0.5L122.787 0.5V1.5ZM132.811 1.5L127.799 1.5V0.5L132.811 0.5V1.5ZM142.834 1.5L137.822 1.5V0.5L142.834 0.5V1.5ZM152.857 1.5L147.846 1.5V0.5L152.857 0.5V1.5ZM162.881 1.5L157.869 1.5V0.5L162.881 0.5V1.5ZM172.904 1.5L167.893 1.5V0.5L172.904 0.5V1.5ZM182.928 1.5L177.916 1.5V0.5L182.928 0.5V1.5ZM192.951 1.5L187.939 1.5V0.5L192.951 0.5V1.5ZM202.975 1.5L197.963 1.5V0.5L202.975 0.5V1.5ZM212.998 1.5L207.986 1.5V0.5L212.998 0.5V1.5ZM223.021 1.5L218.01 1.5V0.5L223.021 0.5V1.5ZM233.045 1.5L228.033 1.5V0.5L233.045 0.5V1.5ZM243.068 1.5L238.057 1.5V0.5L243.068 0.5V1.5ZM253.092 1.5L248.08 1.5V0.5L253.092 0.5V1.5ZM263.115 1.5L258.104 1.5V0.5L263.115 0.5V1.5ZM273.139 1.5L268.127 1.5V0.5L273.139 0.5V1.5ZM283.162 1.5L278.15 1.5V0.5L283.162 0.5V1.5ZM293.186 1.5L288.174 1.5V0.5L293.186 0.5V1.5ZM303.209 1.5L298.197 1.5V0.5L303.209 0.5V1.5ZM313.232 1.5L308.221 1.5V0.5L313.232 0.5V1.5ZM323.256 1.5L318.244 1.5V0.5L323.256 0.5V1.5ZM333.279 1.5L328.268 1.5V0.5L333.279 0.5V1.5ZM343.303 1.5L338.291 1.5V0.5L343.303 0.5V1.5ZM353.326 1.5L348.314 1.5V0.5L353.326 0.5V1.5ZM363.35 1.5L358.338 1.5V0.5L363.35 0.5V1.5ZM373.373 1.5L368.361 1.5V0.5L373.373 0.5V1.5ZM383.396 1.5L378.385 1.5V0.5L383.396 0.5V1.5ZM393.42 1.5L388.408 1.5V0.5L393.42 0.5V1.5ZM403.443 1.5L398.432 1.5V0.5L403.443 0.5V1.5ZM413.467 1.5L408.455 1.5V0.5L413.467 0.5V1.5ZM423.49 1.5L418.479 1.5V0.5L423.49 0.5V1.5ZM433.514 1.5L428.502 1.5V0.5L433.514 0.5V1.5ZM443.537 1.5L438.525 1.5V0.5L443.537 0.5V1.5ZM453.561 1.5L448.549 1.5V0.5L453.561 0.5V1.5ZM463.584 1.5L458.572 1.5V0.5L463.584 0.5V1.5ZM473.607 1.5L468.596 1.5V0.5L473.607 0.5V1.5ZM483.631 1.5L478.619 1.5V0.5L483.631 0.5V1.5ZM493.654 1.5L488.643 1.5V0.5L493.654 0.5V1.5ZM503.678 1.5L498.666 1.5V0.5L503.678 0.5V1.5ZM513.701 1.5L508.689 1.5V0.5L513.701 0.5V1.5ZM523.725 1.5L518.713 1.5V0.5L523.725 0.5V1.5ZM533.748 1.5L528.736 1.5V0.5L533.748 0.5V1.5ZM543.771 1.5L538.76 1.5V0.5L543.771 0.5V1.5ZM553.795 1.5L548.783 1.5V0.5L553.795 0.5V1.5ZM563.818 1.5L558.807 1.5V0.5L563.818 0.5V1.5ZM573.842 1.5L568.83 1.5V0.5L573.842 0.5V1.5ZM583.865 1.5L578.854 1.5V0.5L583.865 0.5V1.5ZM593.889 1.5L588.877 1.5V0.5L593.889 0.5V1.5ZM603.912 1.5L598.9 1.5V0.5L603.912 0.5V1.5ZM613.936 1.5L608.924 1.5V0.5L613.936 0.5V1.5ZM623.959 1.5L618.947 1.5V0.5L623.959 0.5V1.5ZM633.982 1.5L628.971 1.5V0.5L633.982 0.5V1.5ZM644.006 1.5L638.994 1.5V0.5L644.006 0.5V1.5ZM654.029 1.5L649.018 1.5V0.5L654.029 0.5V1.5ZM664.053 1.5L659.041 1.5V0.5L664.053 0.5V1.5ZM674.076 1.5L669.064 1.5V0.5L674.076 0.5V1.5ZM684.1 1.5L679.088 1.5V0.5L684.1 0.5V1.5ZM694.123 1.5L689.111 1.5V0.5L694.123 0.5V1.5ZM704.146 1.5L699.135 1.5V0.5L704.146 0.5V1.5ZM714.17 1.5L709.158 1.5V0.5L714.17 0.5V1.5ZM724.193 1.5L719.182 1.5V0.5L724.193 0.5V1.5ZM734.217 1.5L729.205 1.5V0.5L734.217 0.5V1.5ZM744.24 1.5L739.229 1.5V0.5L744.24 0.5V1.5ZM754.264 1.5L749.252 1.5V0.5L754.264 0.5V1.5ZM764.287 1.5L759.275 1.5V0.5L764.287 0.5V1.5ZM774.311 1.5L769.299 1.5V0.5L774.311 0.5V1.5ZM784.334 1.5L779.322 1.5V0.5L784.334 0.5V1.5ZM794.357 1.5L789.346 1.5V0.5L794.357 0.5V1.5ZM804.381 1.5L799.369 1.5V0.5L804.381 0.5V1.5ZM814.404 1.5L809.393 1.5V0.5L814.404 0.5V1.5ZM824.428 1.5L819.416 1.5V0.5L824.428 0.5V1.5ZM834.451 1.5L829.439 1.5V0.5L834.451 0.5V1.5ZM844.475 1.5L839.463 1.5V0.5L844.475 0.5V1.5ZM854.498 1.5L849.486 1.5V0.5L854.498 0.5V1.5ZM864.521 1.5L859.51 1.5V0.5L864.521 0.5V1.5ZM874.545 1.5L869.533 1.5V0.5L874.545 0.5V1.5ZM884.568 1.5L879.557 1.5V0.5L884.568 0.5V1.5ZM894.592 1.5L889.58 1.5V0.5L894.592 0.5V1.5ZM904.615 1.5L899.604 1.5V0.5L904.615 0.5V1.5ZM914.639 1.5L909.627 1.5V0.5L914.639 0.5V1.5ZM924.662 1.5L919.65 1.5V0.5L924.662 0.5V1.5ZM934.686 1.5L929.674 1.5V0.5L934.686 0.5V1.5ZM944.709 1.5L939.697 1.5V0.5L944.709 0.5V1.5ZM954.732 1.5L949.721 1.5V0.5L954.732 0.5V1.5ZM964.756 1.5L959.744 1.5V0.5L964.756 0.5V1.5ZM974.779 1.5L969.768 1.5V0.5L974.779 0.5V1.5ZM984.803 1.5L979.791 1.5V0.5L984.803 0.5V1.5ZM994.826 1.5L989.814 1.5V0.5L994.826 0.5V1.5ZM1004.85 1.5L999.838 1.5V0.5L1004.85 0.5V1.5ZM1014.87 1.5L1009.86 1.5V0.5L1014.87 0.5V1.5ZM1024.9 1.5L1019.88 1.5V0.5L1024.9 0.5V1.5ZM1034.92 1.5L1029.91 1.5V0.5L1034.92 0.5V1.5ZM1044.94 1.5L1039.93 1.5V0.5L1044.94 0.5V1.5ZM1054.97 1.5L1049.96 1.5V0.5L1054.97 0.5V1.5ZM1064.99 1.5L1059.98 1.5V0.5L1064.99 0.5V1.5ZM1075.01 1.5L1070 1.5V0.5L1075.01 0.5V1.5ZM1085.04 1.5L1080.03 1.5V0.5L1085.04 0.5V1.5ZM1095.06 1.5L1090.05 1.5V0.5L1095.06 0.5V1.5ZM1105.08 1.5L1100.07 1.5V0.5L1105.08 0.5V1.5ZM1115.11 1.5L1110.1 1.5V0.5L1115.11 0.5V1.5ZM1125.13 1.5L1120.12 1.5V0.5L1125.13 0.5V1.5ZM1135.15 1.5L1130.14 1.5V0.5L1135.15 0.5V1.5ZM1145.18 1.5L1140.17 1.5V0.5L1145.18 0.5V1.5ZM1155.2 1.5L1150.19 1.5V0.5L1155.2 0.5V1.5ZM1165.22 1.5L1160.21 1.5V0.5L1165.22 0.5V1.5ZM1175.25 1.5L1170.24 1.5V0.5L1175.25 0.5V1.5ZM1185.27 1.5L1180.26 1.5V0.5L1185.27 0.5V1.5ZM1195.29 1.5L1190.28 1.5V0.5L1195.29 0.5V1.5ZM1205.32 1.5L1200.31 1.5V0.5L1205.32 0.5V1.5ZM1215.34 1.5L1210.33 1.5V0.5L1215.34 0.5V1.5ZM1225.37 1.5L1220.35 1.5V0.5L1225.37 0.5V1.5ZM1235.39 1.5L1230.38 1.5V0.5L1235.39 0.5V1.5ZM1245.41 1.5L1240.4 1.5V0.5L1245.41 0.5V1.5ZM1255.44 1.5L1250.42 1.5V0.5L1255.44 0.5V1.5ZM1265.46 1.5L1260.45 1.5V0.5L1265.46 0.5V1.5ZM1275.48 1.5L1270.47 1.5V0.5L1275.48 0.5V1.5ZM1283 1.5L1280.49 1.5V0.5L1283 0.5V1.5Z" fill="#363735"/>
      </clipPath>
      <path opacity="0.16" class="accommodations-card__bottom-line-path" d="M0 1L1283 1" stroke="#363735" clip-path="url(#bottomLine)" ref="bottomLine"/>
    </svg>
    <div class="accommodations-card__big-image block-wrapper">
      <img :src="imageBig" alt="bigImage" ref="bigImage" />
    </div>

    <div class="accommodations-card__small-image" ref="smallImageWrapper">
      <img :src="imageSmall" alt="smallImage" ref="smallImage" />
    </div>

    <div class="accommodations-card__inner">
      <h2 class="accommodations-card__title h3 container" ref="title">{{ title }}</h2>

      <svg class="accommodations-card__vector accommodations-card__vector--left" width="362" height="281" viewBox="0 0 362 281" fill="none" xmlns="http://www.w3.org/2000/svg" ref="vectorLeft">
        <clipPath :id="`vector-left1-${current}`">
          <path opacity="0.16" d="M362 279.5H359.493V280.5H362V279.5ZM354.479 279.5H349.465V280.5H354.479V279.5ZM344.451 279.5H339.438V280.5H344.451V279.5ZM334.424 279.5H329.41V280.5H334.424V279.5ZM324.396 279.5H319.382V280.5H324.396V279.5ZM314.368 279.5H309.354V280.5H314.368V279.5ZM304.34 279.5H299.326V280.5H304.34V279.5ZM294.312 279.5H289.299V280.5H294.312V279.5ZM284.285 279.5H279.271V280.5H284.285V279.5ZM274.257 279.5H269.243V280.5H274.257V279.5ZM264.229 279.5H259.215V280.5H264.229V279.5ZM254.201 279.5H249.188V280.5H254.201V279.5ZM244.174 279.5H239.16V280.5H244.174V279.5ZM234.146 279.5H229.132V280.5H234.146V279.5ZM224.118 279.5H219.104V280.5H224.118V279.5ZM214.09 279.5H209.076V280.5H214.09V279.5ZM204.063 279.5H199.049V280.5H204.063V279.5ZM194.035 279.5H189.021V280.5H194.035V279.5ZM184.007 279.5H178.993V280.5H184.007V279.5ZM173.979 279.5H168.965V280.5H173.979V279.5ZM163.951 279.5H158.938V280.5H163.951V279.5ZM153.924 279.5H148.91V280.5H153.924V279.5ZM143.896 279.5H138.882V280.5H143.896V279.5ZM133.868 279.5H128.854V280.5H133.868V279.5ZM123.84 279.5H118.827V280.5H123.84V279.5ZM113.813 279.5H108.799V280.5H113.813V279.5ZM103.785 279.5H98.771V280.5H103.785V279.5ZM93.7571 279.5H88.7432V280.5H93.7571V279.5ZM83.7293 279.5H78.7155V280.5H83.7293V279.5ZM73.7016 279.5H68.6877V280.5H73.7016V279.5ZM63.6738 279.5H58.6599V280.5H63.6738V279.5ZM53.646 279.5H48.6321V280.5H53.646V279.5ZM43.6182 279.5H38.6044V280.5H43.6182V279.5ZM33.5905 279.5H28.5766V280.5H33.5905V279.5ZM23.5627 279.5H18.5488V280.5H23.5627V279.5ZM13.5349 279.5H8.52103V280.5H13.5349V279.5ZM3.50717 279.5H1V280.5H3.50717V279.5Z" fill="#363735"/>
        </clipPath>
        <line opacity="0.16" x1="0" y1="280" x2="362" y2="280" stroke="#363735" stroke-width="2" :clip-path="`url(#vector-left1-${current})`" />
        <!-- <path opacity="0.16" d="M147 0L147 191" stroke="#363735" stroke-dasharray="5 5"/> -->
        <clipPath :id="`vector-left2-${current}`">
          <path opacity="0.16" fill-rule="evenodd" clip-rule="evenodd" d="M146.5 2.51316V0H147.5V2.51316H146.5ZM146.5 12.5658V7.53947H147.5V12.5658H146.5ZM146.5 22.6184V17.5921H147.5V22.6184H146.5ZM146.5 32.6711V27.6447H147.5V32.6711H146.5ZM146.5 42.7237V37.6974H147.5V42.7237H146.5ZM146.5 52.7763V47.75H147.5V52.7763H146.5ZM146.5 62.8289V57.8026H147.5V62.8289H146.5ZM146.5 72.8816V67.8552H147.5V72.8816H146.5ZM146.5 82.9342V77.9079H147.5V82.9342H146.5ZM146.5 92.9868V87.9605H147.5V92.9868H146.5ZM146.5 103.039V98.0131H147.5V103.039H146.5ZM146.5 113.092V108.066H147.5V113.092H146.5ZM146.5 123.145V118.118H147.5V123.145H146.5ZM146.5 133.197V128.171H147.5V133.197H146.5ZM146.5 143.25V138.224H147.5V143.25H146.5ZM146.5 153.303V148.276H147.5V153.303H146.5ZM146.5 163.355V158.329H147.5V163.355H146.5ZM146.5 173.408V168.382H147.5V173.408H146.5ZM146.5 183.461V178.434H147.5V183.461H146.5ZM146.5 191V188.487H147.5V191H146.5Z" fill="#363735"/>
        </clipPath>
        <line opacity="0.16" x1="147" y1="0" x2="147" y2="195" stroke="#363735" stroke-width="2" :clip-path="`url(#vector-left2-${current})`"/>
        <clipPath :id="`vector-left3-${current}`">
          <!-- <path opacity="0.16" d="M147 192L1 280" stroke="#363735" stroke-dasharray="5 5"/> -->
          <path opacity="0.16" fill-rule="evenodd" clip-rule="evenodd" d="M147.258 192.428L145.111 193.722L144.595 192.866L146.742 191.572L147.258 192.428ZM140.817 196.311L136.523 198.899L136.007 198.042L140.301 195.454L140.817 196.311ZM132.229 201.487L127.935 204.075L127.418 203.219L131.713 200.631L132.229 201.487ZM123.64 206.664L119.346 209.252L118.83 208.395L123.124 205.807L123.64 206.664ZM115.052 211.84L110.758 214.428L110.242 213.572L114.536 210.984L115.052 211.84ZM106.464 217.016L102.17 219.605L101.654 218.748L105.948 216.16L106.464 217.016ZM97.8758 222.193L93.5816 224.781L93.0654 223.925L97.3596 221.336L97.8758 222.193ZM89.2875 227.369L84.9934 229.958L84.4772 229.101L88.7713 226.513L89.2875 227.369ZM80.6993 232.546L76.4052 235.134L75.889 234.278L80.1831 231.689L80.6993 232.546ZM72.111 237.722L67.8169 240.311L67.3007 239.454L71.5948 236.866L72.111 237.722ZM63.5228 242.899L59.2287 245.487L58.7125 244.631L63.0066 242.042L63.5228 242.899ZM54.9346 248.075L50.6405 250.664L50.1242 249.807L54.4184 247.219L54.9346 248.075ZM46.3463 253.252L42.0522 255.84L41.536 254.984L45.8301 252.395L46.3463 253.252ZM37.7581 258.428L33.464 261.016L32.9478 260.16L37.2419 257.572L37.7581 258.428ZM29.1699 263.605L24.8758 266.193L24.3595 265.336L28.6537 262.748L29.1699 263.605ZM20.5816 268.781L16.2875 271.369L15.7713 270.513L20.0654 267.925L20.5816 268.781ZM11.9934 273.958L7.69929 276.546L7.18307 275.689L11.4772 273.101L11.9934 273.958ZM3.40517 279.134L1.25811 280.428L0.74189 279.572L2.88895 278.278L3.40517 279.134Z" fill="#363735"/>
        </clipPath>
        <line opacity="0.16" x1="147" y1="192" x2="0" y2="281" stroke="#363735" stroke-width="2" :clip-path="`url(#vector-left3-${current})`" />
      </svg>

      <svg class="accommodations-card__vector accommodations-card__vector--right" width="365" height="281" viewBox="0 0 365 281" fill="none" xmlns="http://www.w3.org/2000/svg" ref="vectorRight">
        <clipPath :id="`vector-right1-${current}`">
          <path opacity="0.16" d="M361 279.5H358.493V280.5H361V279.5ZM353.479 279.5H348.465V280.5H353.479V279.5ZM343.451 279.5H338.438V280.5H343.451V279.5ZM333.424 279.5H328.41V280.5H333.424V279.5ZM323.396 279.5H318.382V280.5H323.396V279.5ZM313.368 279.5H308.354V280.5H313.368V279.5ZM303.34 279.5H298.326V280.5H303.34V279.5ZM293.312 279.5H288.299V280.5H293.312V279.5ZM283.285 279.5H278.271V280.5H283.285V279.5ZM273.257 279.5H268.243V280.5H273.257V279.5ZM263.229 279.5H258.215V280.5H263.229V279.5ZM253.201 279.5H248.188V280.5H253.201V279.5ZM243.174 279.5H238.16V280.5H243.174V279.5ZM233.146 279.5H228.132V280.5H233.146V279.5ZM223.118 279.5H218.104V280.5H223.118V279.5ZM213.09 279.5H208.076V280.5H213.09V279.5ZM203.063 279.5H198.049V280.5H203.063V279.5ZM193.035 279.5H188.021V280.5H193.035V279.5ZM183.007 279.5H177.993V280.5H183.007V279.5ZM172.979 279.5H167.965V280.5H172.979V279.5ZM162.951 279.5H157.938V280.5H162.951V279.5ZM152.924 279.5H147.91V280.5H152.924V279.5ZM142.896 279.5H137.882V280.5H142.896V279.5ZM132.868 279.5H127.854V280.5H132.868V279.5ZM122.84 279.5H117.827V280.5H122.84V279.5ZM112.813 279.5H107.799V280.5H112.813V279.5ZM102.785 279.5H97.771V280.5H102.785V279.5ZM92.7571 279.5H87.7432V280.5H92.7571V279.5ZM82.7293 279.5H77.7155V280.5H82.7293V279.5ZM72.7016 279.5H67.6877V280.5H72.7016V279.5ZM62.6738 279.5H57.6599V280.5H62.6738V279.5ZM52.646 279.5H47.6321V280.5H52.646V279.5ZM42.6182 279.5H37.6044V280.5H42.6182V279.5ZM32.5905 279.5H27.5766V280.5H32.5905V279.5ZM22.5627 279.5H17.5488V280.5H22.5627V279.5ZM12.5349 279.5H7.52103V280.5H12.5349V279.5ZM2.50717 279.5H0V280.5H2.50717V279.5Z" fill="#363735"/>
        </clipPath>
        <line opacity="0.16" x1="0" y1="280" x2="365" y2="280" stroke="#363735" stroke-width="2" :clip-path="`url(#vector-right1-${current})`" />
        <!-- <path opacity="0.16" d="M200 0L200 191" stroke="#363735" stroke-dasharray="5 5"/> -->
        <clipPath :id="`vector-right2-${current}`">
          <path opacity="0.16" fill-rule="evenodd" clip-rule="evenodd" d="M199.5 2.51316V0H200.5V2.51316H199.5ZM199.5 12.5658V7.53947H200.5V12.5658H199.5ZM199.5 22.6184V17.5921H200.5V22.6184H199.5ZM199.5 32.6711V27.6447H200.5V32.6711H199.5ZM199.5 42.7237V37.6974H200.5V42.7237H199.5ZM199.5 52.7763V47.75H200.5V52.7763H199.5ZM199.5 62.8289V57.8026H200.5V62.8289H199.5ZM199.5 72.8816V67.8552H200.5V72.8816H199.5ZM199.5 82.9342V77.9079H200.5V82.9342H199.5ZM199.5 92.9868V87.9605H200.5V92.9868H199.5ZM199.5 103.039V98.0131H200.5V103.039H199.5ZM199.5 113.092V108.066H200.5V113.092H199.5ZM199.5 123.145V118.118H200.5V123.145H199.5ZM199.5 133.197V128.171H200.5V133.197H199.5ZM199.5 143.25V138.224H200.5V143.25H199.5ZM199.5 153.303V148.276H200.5V153.303H199.5ZM199.5 163.355V158.329H200.5V163.355H199.5ZM199.5 173.408V168.382H200.5V173.408H199.5ZM199.5 183.461V178.434H200.5V183.461H199.5ZM199.5 191V188.487H200.5V191H199.5Z" fill="#363735"/>
        </clipPath>
        <line opacity="0.16" x1="200" y1="0" x2="200" y2="195" stroke="#363735" stroke-width="2" :clip-path="`url(#vector-right2-${current})`"/>
        <!-- <path opacity="0.16" d="M200 192L364 280" stroke="#363735" stroke-dasharray="5 5"/> -->
        <clipPath :id="`vector-right3-${current}`">
          <path opacity="0.16" fill-rule="evenodd" clip-rule="evenodd" d="M201.921 193.598L199.764 192.441L200.236 191.559L202.394 192.717L201.921 193.598ZM210.553 198.23L206.237 195.914L206.71 195.033L211.026 197.349L210.553 198.23ZM219.185 202.862L214.869 200.546L215.342 199.665L219.657 201.98L219.185 202.862ZM227.816 207.493L223.5 205.177L223.973 204.296L228.289 206.612L227.816 207.493ZM236.448 212.125L232.132 209.809L232.605 208.928L236.921 211.244L236.448 212.125ZM245.079 216.756L240.764 214.441L241.236 213.559L245.552 215.875L245.079 216.756ZM253.711 221.388L249.395 219.072L249.868 218.191L254.184 220.507L253.711 221.388ZM262.343 226.02L258.027 223.704L258.5 222.823L262.815 225.138L262.343 226.02ZM270.974 230.651L266.658 228.335L267.131 227.454L271.447 229.77L270.974 230.651ZM279.606 235.283L275.29 232.967L275.763 232.086L280.079 234.402L279.606 235.283ZM288.237 239.914L283.922 237.598L284.394 236.717L288.71 239.033L288.237 239.914ZM296.869 244.546L292.553 242.23L293.026 241.349L297.342 243.665L296.869 244.546ZM305.5 249.177L301.185 246.862L301.657 245.98L305.973 248.296L305.5 249.177ZM314.132 253.809L309.816 251.493L310.289 250.612L314.605 252.928L314.132 253.809ZM322.764 258.441L318.448 256.125L318.921 255.244L323.236 257.559L322.764 258.441ZM331.395 263.072L327.079 260.756L327.552 259.875L331.868 262.191L331.395 263.072ZM340.027 267.704L335.711 265.388L336.184 264.507L340.5 266.823L340.027 267.704ZM348.658 272.335L344.343 270.02L344.815 269.138L349.131 271.454L348.658 272.335ZM357.29 276.967L352.974 274.651L353.447 273.77L357.763 276.086L357.29 276.967ZM363.764 280.441L361.606 279.283L362.078 278.402L364.236 279.559L363.764 280.441Z" fill="#363735"/>
        </clipPath>
        <line opacity="0.16" x1="200" y1="192" x2="365" y2="281" stroke="#363735" stroke-width="2" :clip-path="`url(#vector-right3-${current})`" />
      </svg>

      <ul class="accommodations-card__list container">
        <li
          class="accommodations-card__list-item"
          v-for="(el, index) in details"
          :key="index"
          ref="card"
        >
          <p class="accommodations-card__list-item-name p1">{{ el.Include_description }}</p>
          <p class="accommodations-card__list-item-value p1">{{ el.Include }}</p>
        </li>
      </ul>

      <div class="accommodations-card__btn" ref="btn">
        <NuxtLink 
          class="a1 hover-linear-dark"
          :to="localePath(`/accommodations/${btnLink}`)"
        >{{ btnText }}</NuxtLink>
      </div>
    </div>

    <div class="accommodations-card__circle-btn">
      <CircleBtn 
        :textBtn="circleBtnText"
        :linkBtn="circleBtnLink"
      />
    </div>

  </div>
</template>

<script>
import CircleBtn from "~/components/common/CircleBtn.vue";
import { parallaxImage, animateJS } from "~/plugins/animations";
import { gsap } from 'gsap';
import { ScrollTrigger } from 'gsap/dist/ScrollTrigger';
import { SplitText } from 'gsap/dist/SplitText';
gsap.registerPlugin(ScrollTrigger, SplitText);

export default {
  components: { CircleBtn },
  props: {
    imageBig: {
      type: String,
      default: "",
    },
    imageSmall: {
      type: String,
      default: "",
    },
    title: {
      type: String,
      default: "",
    },
    btnText: {
      type: String,
      default: "",
    },
    btnLink: {
      type: String,
      default: "",
    },
    details: {
      type: Array,
      default: () => [],
    },
    circleBtnText: {
      type: String,
      default: "",
    },
    circleBtnLink: {
      type: String,
      default: "",
    },
    current: {
      type: String,
      default: "",
    }
  },
  methods: {
    animateCard() {
      const splitLeft = new SplitText(('.accommodations-card .accommodations-card__title'), { type: 'lines', linesClass: 'wrapper-char' }).lines;
      const tl = gsap.timeline({
        scrollTrigger: {
          trigger: '.accommodations-card',
          start: 'top bottom+=50px',
        }
      })
      tl.from(splitLeft, { delay: 0.1, duration: 0.9, x: -100, opacity: 0, stagger: 0.1, ease: "Power4.easeInOut" }, "first")
        .from(('.accommodations-card .accommodations-card__list-item'), { autoAlpha: 0, opacity: 0, yPercent: 110, stagger: 0.2, ease: "Power4.easeInOut" }, "first")
        .fromTo(('.accommodations-card .accommodations-card__btn'), { opacity: 0, yPercent: 110 }, { opacity: 1, yPercent: 0, stagger: 0.2, ease: "Power4.easeInOut" }, "first")
        .fromTo(('.accommodations-card .accommodations-card__big-image img'), { scale: 0.85 }, { duration: 1, scale: 1, stagger: 0.25, ease: "Power2.easeOut" }, "first")
        .fromTo(('.accommodations-card .accommodations-card__small-image img'), { scale: 0.85 }, { duration: 1, scale: 1, stagger: 0.25, ease: "Power2.easeOut" }, "first")

      if (this.$refs.vectorLeft) {
        animateJS('drawSvg', this.$refs.vectorLeft.querySelectorAll("line"));
      }

      if (this.$refs.vectorRight) {
        animateJS('drawSvg', this.$refs.vectorRight.querySelectorAll("line"));
      }

      if (this.$refs.bottomLine) {
        animateJS('drawSvg', this.$refs.bottomLine);
      }

      setTimeout(() => {
        ScrollTrigger.getAll().forEach(st => st.refresh());
        ScrollTrigger.refresh();
      }, 1501);
    }
  },
  mounted() {
    // this.$nextTick(() => {
    //   this.animateCard();
    // });
  },
};
</script>

<style lang="scss" scoped>

.accommodations-card {
  @include pb-thistle;
  position: relative;

  opacity: 0;
  transform: translateY(200px);

  @include min(md) {
    padding-bottom: 0;
    display: flex;
    justify-content: space-between;
  }
}
.accommodations-card__bottom-line{
  position: absolute;
  right: 0;
  width: 67.3%;
  height: 2px;
  opacity: 0;
  display: none;

  @include min(md) {
    bottom: 112px;
    width: 57%;
    display: unset;
  }
  @include min(xl) {
    bottom: 120px;
  }
  @include min(bg) {
    bottom: 156px;
  }
}
.accommodations-card__big-image {
  height: 300px;

  @include min(tb) {
    height: 453px;
  }
  @include min(md) {
    margin-bottom: 130px;
    width: 57%;
    height: 400px;
  }
  @include min(xl) {
    margin-bottom: 115px;
    width: 66.8%;
    height: 568px;
  }
  @include min(bg) {
    margin-bottom: 153px;
    width: 67.3%;
    height: 758px;
  }
}
.accommodations-card__small-image {
  display: none;

  @include min(md) {
    width: 223px;
    height: 259px;
    display: block;
    position: absolute;
    z-index: 2;
    top: 271px;
  }
  @include min(xl) {
    width: 319px;
    height: 371px;
    top: 312px;
  }
  @include min(bg) {
    width: 439px;
    height: 495px;
    top: 416px;
  }
}
.accommodations-card__inner {
  position: relative;
}
.accommodations-card__title {
  @include mt-cornflowerblue;
  margin-left: 0;
  width: 248px;

  @include min(xl) {
    width: 319px;
  }
  @include min(bg) {
    width: 355px;
  }
}
.accommodations-card__vector {
  display: none;

  @include min(md) {
    width: auto;
    height: 280px;
    display: unset;
    position: absolute;
    bottom: 130px;
  }
  @include min(xl) {
    height: 418px;
    bottom: 115px;
  }
  @include min(bg) {
    height: 578px;
    bottom: 153px;
  }
}
.accommodations-card__list {
  @include mt-cornflowerblue;
}
.accommodations-card__list-item {
  display: flex;

  &:not(:last-child) {
    @include mb-olive;
  }
}
.accommodations-card__list-item-name {
  width: 150px;

  @include min(bg) {
    width: 181px;
  }
}
.accommodations-card__list-item-value {
  margin-left: 36px;

  @include min(bg) {
    margin-left: 45px;
  }
}
.accommodations-card__btn {
  @include mt-cornflowerblue;
  margin-left: 18px;

  @include min(tb) {
    margin-left: 40px;
  }
  @include min(md) {
    margin-left: 48px;
  }
  @include min(xl) {
    margin-left: 64px;
  }
  @include min(bg) {
    margin-left: 80px;
  }
}
.accommodations-card__circle-btn {
  position: absolute;
  z-index: 3;
  right: 18px;
  top: 265px;

  @include min(tb) {
    right: 40px;
    top: 386px;
  }
  @include min(md) {
    top: 400px;
    right: unset;
    transform: translate(-50%,-50%);
  }
  @include min(xl) {
    top: 410px;
  }
  @include min(bg) {
    top: 560px;
  }
}
.accommodations-card.left-side {
  background-color: rgba(217, 217, 217, 0.3);

  .accommodations-card__vector--right {
    // display: none;
    // тут display: none почемуто ломает маски у левой свгшки поэтому я скрыл ее с помощью opacity
    opacity: 0;
  }

  @include min(md) {
    justify-content: flex-start;
    &:last-child {
      @include pb-thistle;
    }
    .accommodations-card__small-image {
      left: 43%;
    }
    .accommodations-card__vector--left {
      right: 0;
    }
    .accommodations-card__circle-btn {
      left: calc(43% + 223px);
    }
    .accommodations-card__inner{
      margin-left: calc((223px + 43%) - 57% - 48px);
    }
  }
  @include min(lg) {
    .accommodations-card__small-image {
      left: 48%;
    }
    .accommodations-card__circle-btn {
      left: calc(48% + 223px);
    }
    .accommodations-card__inner{
      margin-left: calc((223px + 48%) - 57% - 48px);
    }
  }
  @include min(xl) {
    .accommodations-card__small-image {
      left: 50.4%;
    }
    .accommodations-card__vector--left {
      right: -25%;
    }
    .accommodations-card__circle-btn {
      left: calc(50.4% + 297px);
    }
    .accommodations-card__inner{
      margin-left: calc((319px + 50.4%) - 66.8% - 64px);
    }
  }
  @include min(1700) {
    .accommodations-card__small-image {
      left: 55%;
    }
    .accommodations-card__circle-btn {
      left: calc(55% + 297px);
    }
  }
  @include min(bg) {
    
    .accommodations-card__small-image {
      left: 50.3%;
    }
    .accommodations-card__vector--left {
      right: -35%;
    }
    .accommodations-card__circle-btn {
      left: calc(50.3% + 403px);
    }
    .accommodations-card__inner{
      margin-left: calc((439px + 50.3%) - 67.3% - 80px);
    }
  }
}
.accommodations-card.right-side {
  .accommodations-card__bottom-line{
    opacity: 1;
  }
  .accommodations-card__vector--left {
    display: none;
  }

  @include min(md) {
    @include pt-thistle;
    @include pb-thistle;
    flex-direction: row-reverse;

    .accommodations-card__small-image {
      top: 383px;
      right: 43%;
    }
    .accommodations-card__vector--right {
      left: 0;
    }
    .accommodations-card__circle-btn {
      top: 498px;
      right: calc(57% - 57px);
    }
  }
  @include min(lg) {
    .accommodations-card__small-image {
      right: 48%;
    }
    .accommodations-card__circle-btn {
      right: calc(57%);
    }
  }
  @include min(xl) {
    .accommodations-card__small-image {
      top: 432px;
      right: 50.4%;
    }
    .accommodations-card__vector--right {
      left: -17%;
    }
    .accommodations-card__circle-btn {
      top: 522px;
      right: calc(50.4% + 172px);
    }
  }
  @include min(1700) {
    .accommodations-card__small-image {
      right: 55%;
    }
    .accommodations-card__circle-btn {
      right: calc(55% + 172px);
    }
  }
  @include min(bg) {
    .accommodations-card__small-image {
      top: 572px;
      right: 50.3%;
    }
    .accommodations-card__vector--right {
      left: -25%;
    }
    .accommodations-card__circle-btn {
      top: 716px;
      right: calc(50.3% + 300px);
    }
  }
}
</style>